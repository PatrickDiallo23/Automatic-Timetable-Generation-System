<?xml version="1.0" encoding="UTF-8"?>
<solver xmlns="https://timefold.ai/xsd/solver" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="https://timefold.ai/xsd/solver https://timefold.ai/xsd/solver/solver.xsd">
<!--    <environmentMode>FULL_ASSERT</environmentMode>-->
<!--&lt;!&ndash;    <moveThreadCount>AUTO</moveThreadCount>&ndash;&gt;-->

<!--    <solutionClass>com.timetablealgo.testingtimetablealgo.domain.Timetable</solutionClass>-->
<!--    <entityClass>com.timetablealgo.testingtimetablealgo.domain.Lesson</entityClass>-->

    <scoreDirectorFactory>
        <constraintProviderClass>
            com.patrick.timetableappbackend.solver.TimetableConstraintProvider
        </constraintProviderClass>
    <initializingScoreTrend>ONLY_DOWN/ONLY_DOWN/ANY</initializingScoreTrend>
    </scoreDirectorFactory>

<!--  STRONGEST FIT DECREASING generic config -->
    <constructionHeuristic>
        <constructionHeuristicType>ALLOCATE_ENTITY_FROM_QUEUE</constructionHeuristicType>
        <entitySorterManner>DECREASING_DIFFICULTY_IF_AVAILABLE</entitySorterManner>
        <valueSorterManner>DECREASING_STRENGTH_IF_AVAILABLE</valueSorterManner>
        <!--        <forager>-->
        <!--            <pickEarlyType>FIRST_FEASIBLE_SCORE_OR_NON_DETERIORATING_HARD</pickEarlyType>-->
        <!--        </forager>-->
    </constructionHeuristic>

    <!--    Late_Acceptance configuration-->
    <localSearch>
        <termination>
            <minutesSpentLimit>10</minutesSpentLimit>
        </termination>
        <acceptor>
            <!-- Set the lateAcceptanceSize to 15% - 25% of the number of planning entities.-->
            <lateAcceptanceSize>1200</lateAcceptanceSize>
        </acceptor>
        <forager>
            <!--    <pickEarlyType>FIRST_BEST_SCORE_IMPROVING</pickEarlyType> <!- or FIRST_LAST_STEP_SCORE_IMPROVING -->
            <acceptedCountLimit>3</acceptedCountLimit>  <!-- should use low acceptedCountLimit -->
            <finalistPodiumType>HIGHEST_SCORE</finalistPodiumType>
        </forager>
    </localSearch>

    <!--    Tabu_Search configuration-->
    <localSearch>
        <acceptor>
            <entityTabuRatio>0.03</entityTabuRatio>
            <valueTabuSize>50</valueTabuSize>
            <moveTabuSize>10</moveTabuSize>
            <undoMoveTabuSize>10</undoMoveTabuSize>
        </acceptor>
        <forager>
            <!--    <pickEarlyType>FIRST_BEST_SCORE_IMPROVING</pickEarlyType>  <!- or FIRST_LAST_STEP_SCORE_IMPROVING -->
            <acceptedCountLimit>1500</acceptedCountLimit> <!-- or -->
            <finalistPodiumType>HIGHEST_SCORE</finalistPodiumType>
            <breakTieRandomly>true</breakTieRandomly>
        </forager>
    </localSearch>

</solver>
